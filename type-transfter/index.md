类型转换
涉及 + - 运算符
==
Number(0)

[JavaScript 奇怪事件簿](https://juejin.im/post/5a91615f6fb9a0634d27c770#heading-2)

[JS类型转换](https://www.cnblogs.com/Juphy/p/7085197.html)

[JavaScript 中应该用 "==" 还是 "==="？](https://www.zhihu.com/question/20348948/answer/14867031)

https://www.ecma-international.org/ecma-262/5.1/#sec-15.7

https://www.ecma-international.org/ecma-262/5.1/#sec-9.3

### "+" 操作符

* 如果有对象类型(object)，则将其转化为基础类型，即为字符串、数字或者布尔
  * 如果为`Date`类型，那么调用`toString()`方法
  * 否则调用`valueOf()`方法
  * 如果`valueof()`方法不存在或者并没有返回一个基础类型，那么调用`toString()`

  > 数组的`toString()`方法和`join(',')`结果一致
  > 其他对象返回的都是`[object Object]`
* 通过上一步的转化，如果至少有一个字符串类型，那么另一个也转为字符串类型，然后连接字符串，结束
* 如果没有字符串类型（也就是数字和布尔），那么都转为数字类型，然后求和

> 所以`+`操作的最终结果为数字或者字符串

### 转为为数字类型

* 如果是布尔值，`true`和`false`分别被转换为`1`和`0`
* 如果是数字值，返回本身。
* 如果是`null`，返回`0`.
* 如果是`undefined`，返回`NaN`。
* 如果是字符串，遵循以下规则：
  * 如果字符串中只包含数字，则将其转换为十进制（忽略前导0）
  * 如果字符串中包含有效的浮点格式，将其转换为浮点数值（忽略前导0）
  * 如果是空字符串，将其转换为0
  * 如果字符串中包含非以上格式，则将其转换为`NaN`
* 如果是对象，则调用对象的`valueOf()`方法，然后依据前面的规则转换返回的值。如果转换的结果是NaN，则调用对象的`toString()`方法，再次依照前面的规则转换返回的字符串值。

> 可以直接看这个 https://www.ecma-international.org/ecma-262/5.1/#sec-9.3

### "-" 操作符

但`-`操作符只有一个功能，就是数值上的相减。它会把非数值类型的操作数转化为数值类型，然后进行减法操作。


### 应用

计算 `[[][[]]+[]][+[]][++[+[]][+[]]]`

操作优先级 `[]` > `一元操作符+` > `++` > `+`

过程
* `[[][[]]+[]] [+[]] [++[+[]][+[]]]`
* `[[][''] + [] ] [0] [++[0][0]]`
* `[undefined + [] ] [0] [++0]`
* `['undefined'] [0] [1]`
* `'undefined'[1]`
* `'n'`
